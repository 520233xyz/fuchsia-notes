\section{userpickerdevshell}


\begin{verbatim}
对userpicker_device_shell的加载应该是走directory

RootLoader::LoadComponent
==========================


package.directory = std::move(directory); // "/pkgfs/packages/userpicker_device_shell"
package.resolved_url = fxl::Concatenate({"file://", pkg_path});
callback(fidl::MakeOptional(std::move(package)));

CreateComponentFromPackage(
                std::move(package), std::move(launch_info),
                std::move(controller), std::move(ns), fbl::move(callback));

  fd是通向目录"/pkgfs/packages/userpicker_device_shell"
  cmx_data 
  {
    "program": {
        "binary": "bin/app"
    },
    "sandbox": {
        "dev": [ "misc" ],
        "system": [ "data/sysui" ]
    }
  }

  runtime_data
  {
      "runner": "flutter_aot_runner"
  }

  appdata "bin/app" not exist

  exported_dir_layout = ExportedDirType::kPublicDebugCtrlLayout;

  GetOrCreateRunner(runtime.runner());
    result.first->second = std::make_unique<RunnerHolder>(
        std::move(runner_services), std::move(runner_controller),
        std::move(runner_launch_info), this,
        [this, runner] { runners_.erase(runner); });

        RunnerHolder::RunnerHolder()
          realm->CreateComponent(std::move(launch_info), controller_.NewRequest(),
                         [this](ComponentControllerImpl* component) {
                           CreateComponentCallback(component);
                         });
            callback(key);
            CreateComponentCallback(component);
          services_.ConnectToService(runner_.NewRequest());

  要去加载flutter_aot_runner了。它有bin/app
  RuntimeHolder在构造时就会启动flutter_aot_runner, 并连接它的服务

  runner->StartComponent(std::move(inner_package), std::move(startup_info),
                           std::move(ns), std::move(controller));
    启动inner_package
    转入flutter_aot_runner
\end{verbatim}